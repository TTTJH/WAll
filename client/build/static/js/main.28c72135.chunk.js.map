{"version":3,"sources":["containers/chatroom/chatroom.jsx","redux/action-types.js","api/ajax.js","api/index.js","redux/actions.js","containers/login/login.jsx","containers/register/register.jsx","containers/main/main.jsx","components/header/header.js","containers/psersonal/personal.jsx","containers/nav/nav.jsx","containers/edit/edit.jsx","redux/reducers.js","redux/store.js","index.js"],"names":["Chatroom","role","Component","ACCOUNT_SUCCESS","ACCOUNT_ERROR","ACCOUNT_CLEAR","RECOMMEND_SUCCESS","RECOMMEND_ERROR","RECOMMEND_CLEAR","NOTE_SUCCESS","NOTE_ERROR","GET_NOTES_SUCCESS","GET_NOTES_ERROR","url","data","type","Promise","resolve","reject","result","baseUrl","Object","keys","map","item","index","slice","length","axios","get","post","then","value","err","reqRegister","obj","ajax","reqLogin","reqNote","account_success","account_error","account_clear","recommend_error","note_error","get_note_error","autoLogin","dispatch","a","code","Login","handleSubmit","e","props","preventDefault","form","validateFields","values","login","user","username","msg","message","success","history","replace","warning","gotoRegister","push","getFieldDecorator","this","onSubmit","className","Item","rules","required","prefix","style","color","placeholder","htmlType","onClick","id","Login2","create","name","connect","state","Register","confirmDirty","autoCompleteResult","validateFieldsAndScroll","register","handleConfirmBlur","target","setState","compareToFirstPassword","rule","callback","getFieldValue","validateToNextPassword","force","setFieldsValue","sex","registerWrapper","document","querySelector","RegisterScroll","BScroll","scrollY","click","labelCol","xs","span","sm","wrapperCol","label","hasFeedback","validator","Password","onBlur","title","Group","buttonStyle","Button","whitespace","offset","Register2","console","log","MyIcon","createFromIconfontCN","scriptUrl","Main","Meta","routeArr","loading","recommend_refresh","recommend_clear","recommend","scroll","scrollTo","like","comment","share","getNotes","card","refs","scrollX","mainWrapper","rootScroll","recommend_users","notes","_id","Cookies","ref","key","avatar","active","src","avatarUrl","alt","nickName","Array","from","content","imgs_url","Header","confirm","Personal","avatarProps","action","headers","authorization","onChange","info","file","status","querySelectorAll","forEach","display","error","gotoLogin","signout","remove","showDeleteConfirm","okText","okType","cancelText","onOk","onCancel","personal","getElementById","listScroll","width","height","initState","home","options","edit","Nav","goto","num","change","pathname","pubSub","subscribe","location","withRouter","TextArea","getBase64","reader","FileReader","readAsDataURL","onload","onerror","Edit","previewVisible","previewImage","fileList","editContent","handleCancel","handlePreview","preview","originFileObj","handleChange","editContentHandle","publish","response","from_id","date","sd","format","Date","note","state_note","catch","uploadButton","resize","autosize","minRows","maxRows","listType","onPreview","visible","footer","initUser","initRecommend","initNote","avatar_url","combineReducers","createStore","reducers","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","store","path","component"],"mappings":"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","file":"static/js/main.28c72135.chunk.js","sourcesContent":["import React, {Component} from 'react';\r\n\r\nclass Chatroom extends Component{\r\n  render(){\r\n    return (\r\n      <div>\r\n         <span role='img'>Chatroom</span>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Chatroom;\r\n","export const ACCOUNT_SUCCESS = 'account_success';\r\nexport const ACCOUNT_ERROR = 'account_error';\r\nexport const ACCOUNT_CLEAR = 'account_clear';\r\n\r\nexport const RECOMMEND_SUCCESS = 'recommend_success';\r\nexport const RECOMMEND_ERROR = 'recommend_error';\r\nexport const RECOMMEND_CLEAR = 'recommend_clear';\r\n\r\nexport const NOTE_SUCCESS = 'note_success';\r\nexport const NOTE_ERROR = 'note_error';\r\n\r\nexport const GET_NOTES_SUCCESS = 'get_notes_success';\r\nexport const GET_NOTES_ERROR = 'get_notes_error';","import axios from 'axios';\r\n\r\nexport default function(url, data = {}, type = 'GET'){\r\n  return new Promise((resolve, reject) => {\r\n    let result;\r\n    if(type === 'GET'){\r\n      let baseUrl = '';\r\n  \r\n      Object.keys(data).map(function(item, index){\r\n        baseUrl += `${item}=${data[item]}& `;\r\n      });\r\n  \r\n      baseUrl = url + baseUrl.slice(0,baseUrl.length-1);\r\n  \r\n       result =  axios.get(baseUrl);\r\n  \r\n    }else{\r\n       result =  axios.post(url, data); \r\n    }\r\n    result.then(function(value){\r\n      resolve(value.data);\r\n    },function(err){\r\n      reject(err);\r\n    })\r\n  })\r\n}","import ajax from './ajax';\r\nexport const reqRegister = (obj) => ajax('/register', obj, 'POST');\r\nexport const reqLogin = (obj) => ajax('/login',obj,'POST');\r\nexport const reqAutoLogin = () => ajax('/autoLogin');\r\nexport const reqRecommend = () => ajax(\"/recommend\");\r\nexport const reqNote = (obj) => ajax('/note',obj,'POST');\r\nexport const reqNotes = () => ajax('/getNotes');","import {\r\n  ACCOUNT_ERROR,\r\n  ACCOUNT_SUCCESS,\r\n  ACCOUNT_CLEAR,\r\n  RECOMMEND_ERROR,\r\n  RECOMMEND_SUCCESS,\r\n  RECOMMEND_CLEAR,\r\n  NOTE_ERROR,\r\n  NOTE_SUCCESS,\r\n  GET_NOTES_SUCCESS,\r\n  GET_NOTES_ERROR\r\n} from './action-types'\r\n\r\nimport {\r\n  reqRegister,\r\n  reqLogin,\r\n  reqAutoLogin,\r\n  reqRecommend,\r\n  reqNote,\r\n  reqNotes,\r\n} from '../api/index'\r\n\r\n// 同步actions\r\nconst account_success = (data) => ({type:ACCOUNT_SUCCESS, data});\r\nconst account_error = (data) => ({type:ACCOUNT_ERROR, data});\r\nexport const account_clear = () => ({type:ACCOUNT_CLEAR});\r\nconst recommend_success = (data) => ({type:RECOMMEND_SUCCESS, data});\r\nconst recommend_error = (data) => ({type:RECOMMEND_ERROR, data});\r\nexport const recommend_clear = () => ({type:RECOMMEND_CLEAR});\r\nconst note_success = (data) => ({type:NOTE_SUCCESS, data});\r\nconst note_error = (data) => ({type:NOTE_ERROR, data});\r\nconst get_note_success = (data) => ({type:GET_NOTES_SUCCESS,data});\r\nconst get_note_error = (data) => ({type:GET_NOTES_ERROR, data});\r\n\r\n// 异步actions\r\nexport const register = (obj) => {\r\n  console.log(obj);\r\n  return async (dispatch) => {\r\n    const result = await reqRegister(obj);\r\n    if(result.code === 1){\r\n      dispatch(account_success(result.data));\r\n    }else{\r\n      dispatch(account_error(result.data));\r\n    }\r\n  }\r\n}\r\n\r\nexport const login = (obj) => {\r\n  return async (dispatch) => {\r\n    const result = await reqLogin(obj);\r\n    if(result.code === 1){\r\n      dispatch(account_success(result.data));\r\n    }else{\r\n      dispatch(account_error(result.data));\r\n    }\r\n  }\r\n}\r\n\r\nexport const autoLogin = () => {\r\n    return async (dispatch) => {\r\n      const result = await reqAutoLogin();\r\n      if(result.code === 1){\r\n        dispatch(account_success(result.data));\r\n      }else{\r\n        dispatch(account_error(result.data));\r\n      }\r\n    }\r\n}\r\n\r\nexport const recommend = () => {\r\n  return async (dispatch) => {\r\n    const result = await reqRecommend();\r\n    if(result.code === 1){\r\n      dispatch(recommend_success(result.data));\r\n    }else{\r\n      dispatch(recommend_error(result.data));\r\n    }\r\n  }\r\n}\r\n\r\nexport const note = (obj) => {\r\n  return async (dispatch) => {\r\n    const result = await reqNote(obj);\r\n    if(result.code === 1){\r\n      dispatch(note_success(result.data));\r\n    }else{\r\n      dispatch(note_error(result.data));\r\n    }\r\n  }\r\n}\r\n\r\nexport const getNotes  = () => {\r\n  return async (dispatch) => {\r\n    const result = await reqNotes();\r\n    if(result.code === 1){\r\n      dispatch(get_note_success(result.data));\r\n    }else{\r\n      dispatch(get_note_error(result.data));\r\n    }\r\n  }\r\n}","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport { Form, Icon, Input, Button, message } from 'antd';\r\n\r\nimport {\r\n  login,\r\n  account_clear\r\n} from '../../redux/actions'\r\nimport './login.css'\r\n\r\nclass Login extends Component{\r\n\r\n\r\n  handleSubmit = e => {\r\n    this.props.account_clear();\r\n    e.preventDefault();\r\n    this.props.form.validateFields((err, values) => {\r\n      if (!err) {\r\n        let result = this.props.login(values);\r\n        result.then((value) => {\r\n          if(this.props.user.username && !this.props.user.msg){\r\n            message.success(\"欢迎回来🦄\");\r\n            this.props.history.replace('/');\r\n          }else if(this.props.user.msg){\r\n            message.warning(this.props.user.msg);\r\n            this.props.user.msg = '';\r\n          }\r\n        },(err) => {\r\n          message.warning(this.props.user.msg);\r\n        })\r\n      }\r\n    });\r\n  };\r\n\r\n  gotoRegister = () => {\r\n    this.props.history.push('/register');\r\n  }\r\n\r\n\r\n\r\n  render(){\r\n\r\n\r\n    const { getFieldDecorator } = this.props.form;\r\n    return (\r\n      \r\n      <Form onSubmit={this.handleSubmit} className=\"login-form\">\r\n        <Form.Item>\r\n          {getFieldDecorator('username', {\r\n            rules: [{ required: true, message: 'Please input your username!' }],\r\n          })(\r\n            <Input\r\n              prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n              placeholder=\"Username\"\r\n            />,\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item>\r\n          {getFieldDecorator('password', {\r\n            rules: [{ required: true, message: 'Please input your Password!' }],\r\n          })(\r\n            <Input\r\n              prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n              type=\"password\"\r\n              placeholder=\"Password\"\r\n            />,\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item>\r\n          <div className='login-spec-btns'>\r\n\r\n          <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\r\n            Log in\r\n          </Button>\r\n          <Button onClick={this.gotoRegister}  id='gotoRegister' type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\r\n          去注册一个!\r\n          </Button>\r\n          </div>\r\n\r\n        </Form.Item>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nconst Login2 = Form.create({ name: 'normal_login' })(Login)\r\n\r\nexport default connect(\r\n  (state) => ({user:state.user}),\r\n  {login, account_clear}\r\n)(Login2);  ","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Redirect} from 'react-router-dom';\r\nimport BScroll from 'better-scroll'\r\nimport {\r\n  Form,\r\n  Input,\r\n  Tooltip,\r\n  Icon,\r\n  Button,\r\n  Radio,\r\n  message\r\n} from 'antd';\r\n\r\nimport {\r\n  register,\r\n} from '../../redux/actions'\r\n\r\nimport './register.css'\r\n\r\nclass Register extends Component {\r\n  state = {\r\n    confirmDirty: false,\r\n    autoCompleteResult: [],\r\n  };\r\n\r\n  //设置raido默认值\r\n  componentDidMount(){\r\n    this.props.form.setFieldsValue({\r\n      sex: 'male',\r\n    });\r\n    const registerWrapper = document.querySelector('.register-wrapper');\r\n     this.RegisterScroll = new BScroll(registerWrapper,{\r\n      scrollY: true,\r\n      click: true\r\n  })\r\n  }\r\n\r\n  \r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.form.validateFieldsAndScroll((err, values) => {\r\n      if (!err) {\r\n        let result = this.props.register(values);\r\n        result.then((value) => {\r\n          if(this.props.user.username && !this.props.user.msg){\r\n            message.success('欢迎入驻，快去寻找乐趣吧🦄');\r\n            this.props.history.replace('/personal');\r\n          }else if(this.props.user.msg){\r\n            message.warning(this.props.user.msg);\r\n            this.props.user.msg = '';\r\n          }\r\n        },(err) => {\r\n          message.warning(this.props.user.msg);\r\n          this.props.user.msg = '';\r\n        })\r\n      }\r\n    });\r\n  };\r\n\r\n  handleConfirmBlur = e => {\r\n    const { value } = e.target;\r\n    this.setState({ confirmDirty: this.state.confirmDirty || !!value });\r\n  };\r\n\r\n  compareToFirstPassword = (rule, value, callback) => {\r\n    const { form } = this.props;\r\n    if (value && value !== form.getFieldValue('password')) {\r\n      callback('Two passwords that you enter is inconsistent!');\r\n    } else {\r\n      callback();\r\n    }\r\n  };\r\n\r\n  validateToNextPassword = (rule, value, callback) => {\r\n    const { form } = this.props;\r\n    if (value && this.state.confirmDirty) {\r\n      form.validateFields(['confirm'], { force: true });\r\n    }\r\n    callback();\r\n  };\r\n\r\n  render() {\r\n\r\n    const { getFieldDecorator } = this.props.form;\r\n\r\n    const formItemLayout = {\r\n      labelCol: {\r\n        xs: { span: 24 },\r\n        sm: { span: 8 },\r\n      },\r\n      wrapperCol: {\r\n        xs: { span: 24 },\r\n        sm: { span: 16 },\r\n      },\r\n    };\r\n    const tailFormItemLayout = {\r\n      wrapperCol: {\r\n        xs: {\r\n          span: 24,\r\n          offset: 0,\r\n        },\r\n        sm: {\r\n          span: 16,\r\n          offset: 8,\r\n        },\r\n      },\r\n    };\r\n\r\n    return (\r\n      <div className='register-wrapper'>\r\n        <div className='register-container'>\r\n\r\n      <Form {...formItemLayout} onSubmit={this.handleSubmit}>\r\n        <Form.Item label='Username'>\r\n          {getFieldDecorator('username', {\r\n            rules: [\r\n              {\r\n                // type: 'text',\r\n                message: 'The input is not valid E-mail!',\r\n              },\r\n              {\r\n                required: true,\r\n                message: 'Please input your E-mail!',\r\n              },\r\n            ],\r\n          })(<Input />)}\r\n        </Form.Item>\r\n        <Form.Item label=\"Password\" hasFeedback>\r\n          {getFieldDecorator('password', {\r\n            rules: [\r\n              {\r\n                required: true,\r\n                message: 'Please input your password!',\r\n              },\r\n              {\r\n                validator: this.validateToNextPassword,\r\n              },\r\n            ],\r\n          })(<Input.Password />)}\r\n        </Form.Item>\r\n        <Form.Item label=\"Confirm Password\" hasFeedback>\r\n          {getFieldDecorator('confirm', {\r\n            rules: [\r\n              {\r\n                required: true,\r\n                message: 'Please confirm your password!',\r\n              },\r\n              {\r\n                validator: this.compareToFirstPassword,\r\n              },\r\n            ],\r\n          })(<Input.Password onBlur={this.handleConfirmBlur} />)}\r\n        </Form.Item>\r\n\r\n      <Form.Item\r\n          label={\r\n            <span>\r\n              性别&nbsp;\r\n              <Tooltip title=\"What do you want others to call you?\">\r\n                <Icon type=\"question-circle-o\" />\r\n              </Tooltip>\r\n            </span>\r\n          }\r\n        >\r\n      {getFieldDecorator('sex',{\r\n                    rules: [\r\n                      {\r\n                        required: true,\r\n                        message: 'Please confirm your password!',\r\n                      },\r\n                    ],\r\n      })(\r\n      <Radio.Group  buttonStyle=\"solid\">\r\n          <Radio.Button  value=\"male\">男生</Radio.Button>\r\n          <Radio.Button value=\"female\">女生</Radio.Button>\r\n        </Radio.Group>)}\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          label={\r\n            <span>\r\n              Nickname&nbsp;\r\n              <Tooltip title=\"What do you want others to call you?\">\r\n                <Icon type=\"question-circle-o\" />\r\n              </Tooltip>\r\n            </span>\r\n          }\r\n        >\r\n          {getFieldDecorator('nickName', {\r\n            rules: [{ required: true, message: 'Please input your nickname!', whitespace: true }],\r\n          })(<Input />)}\r\n        </Form.Item>\r\n\r\n        <Form.Item {...tailFormItemLayout} >\r\n          <div className='register-spec-btns'>\r\n          <Button type=\"primary\" htmlType=\"submit\" >\r\n            Register\r\n          </Button>\r\n          <Button type=\"primary\" htmlType=\"submit\" >\r\n            去登入\r\n          </Button>\r\n          </div>\r\n        </Form.Item>\r\n      </Form>\r\n      </div>\r\n      </div>\r\n\r\n    );\r\n  }\r\n}\r\nconst Register2 = Form.create({ name: 'register' })(Register);\r\n\r\nexport default connect(\r\n  state => ({user:state.user}) ,\r\n  {register}\r\n)(Register2);","import React,{Component} from 'react';\r\nimport { connect} from 'react-redux';\r\nimport Cookies from 'js-cookie';\r\nimport { Button , Card, Icon, Avatar, Skeleton} from 'antd';\r\nimport BScroll from 'better-scroll';\r\n\r\nimport {\r\n  autoLogin,\r\n  recommend,\r\n  recommend_clear,\r\n  getNotes\r\n} from '../../redux/actions'\r\n\r\nimport './main.css';\r\n// antd中使用iconfont图标引入方法\r\nconst MyIcon = Icon.createFromIconfontCN({\r\n  scriptUrl: '//at.alicdn.com/t/font_1368816_a7lhoitsitr.js', // 在 iconfont.cn 上生成\r\n});\r\n\r\nconst { Meta } = Card;\r\nclass Main extends Component {\r\n  state = {\r\n    routeArr : ['login','register','main','chatroom'],\r\n    loading:true,\r\n  }\r\n  componentWillMount(){\r\n    let recommend_pro = this.props.recommend();\r\n  }\r\n\r\n  componentDidMount(){\r\n\r\n    this.props.getNotes();\r\n\r\n    const card = this.refs.card;\r\n\r\n     this.scroll = new BScroll(card,{\r\n      scrollY:false,\r\n      scrollX: true,\r\n      click: false\r\n  })\r\n\r\n    const mainWrapper = document.querySelector(\".main-wrapper\");\r\n    this.rootScroll = new BScroll(mainWrapper,{\r\n      scrollY:true,\r\n      click:true\r\n    })\r\n  }\r\n\r\n  recommend_refresh = () => {\r\n    this.props.recommend_clear();\r\n    this.props.recommend();\r\n    this.scroll.scrollTo(0,0,800);\r\n  }\r\n\r\n  like = () => {\r\n    const {username} = this.props.user;\r\n    if(!username) {\r\n      this.props.history.push('/login');\r\n    }\r\n  }\r\n\r\n  comment = () => {\r\n    const {username} = this.props.user;\r\n    if(!username) {\r\n      this.props.history.push('/login');\r\n    }\r\n  }\r\n\r\n  share = () => {\r\n    const {username} = this.props.user;\r\n    if(!username) {\r\n      this.props.history.push('/login');\r\n    }\r\n  }\r\n\r\n  render () {\r\n    const {username} = this.props.user;\r\n    const {recommend_users, notes} = this.props;\r\n    const arr = [0,1,2,3];\r\n    const _id = Cookies.get(\"_id\");\r\n    const { loading } = this.state;\r\n    if(!username && _id){\r\n      this.props.autoLogin();\r\n    }\r\n    if(notes == []){\r\n      return null;\r\n    }else{\r\n\r\n    return (\r\n     <div id=\"main\" className='main-wrapper'>\r\n       <div className='main-container'>\r\n\r\n      \r\n       <div className='recommend'>\r\n       <p className='recommend-txt1'>Classroom:</p>\r\n         <p className='recommend-txt2'>Friends:</p>\r\n         <div  ref='card' className='card-box'>\r\n         <div className='card-container'>\r\n           {             \r\n             recommend_users.length === 0 ? (\r\n              arr.map((item,index) => {\r\n                return (\r\n                      <div className='card' key={index}>\r\n                        <Skeleton loading={loading} avatar active>\r\n                        <div className='card-content'>\r\n                         \r\n                        </div>\r\n                      </Skeleton>\r\n                      </div>\r\n                )\r\n              })\r\n             ) : (\r\n               recommend_users.map((item, index) => {\r\n                 return (\r\n                      <div className='card' key={index}>\r\n                      <div className='card-content'>\r\n                        <img src={item.avatarUrl} alt=\"\"/>\r\n                        <span className='card-content-txt card-content-txt1'><span className='recommend-nickName'>{item.nickName}</span>&nbsp;{item.sex === 'male' ? <MyIcon type=\"icon-male\" /> : <MyIcon type=\"icon-female\" />}</span> \r\n                        <span className='card-content-txt card-content-txt2'>干，我还没添加自我介绍</span>\r\n                      </div>\r\n                    </div>\r\n                 )\r\n               })\r\n             )\r\n           }\r\n          <div onClick={this.recommend_refresh} className='recommend-refresh'>\r\n          <Icon type=\"sync\" />\r\n          </div>\r\n            </div>\r\n         </div>\r\n       </div>\r\n\r\n       <div className='post' >\r\n       <p className='post-txt1'>Post:</p>\r\n           <div className='post-box' ref='post'>\r\n             <div className='post-container'>\r\n\r\n      {\r\n        notes.length === 0\r\n         ?\r\n        Array.from({length:10},() => 0).map((item,index) => {\r\n          return (\r\n            <Skeleton key={index} loading={loading} avatar active>\r\n            <div className='card-content'>\r\n             \r\n            </div>\r\n          </Skeleton>\r\n          )\r\n        })\r\n       :\r\n        notes.map((item, index) => {\r\n          return (\r\n            <div key={index} className='post-card'>\r\n            <div className='tag'>\r\n                hot  <MyIcon type=\"icon-hot2-copy\" />\r\n            </div>\r\n            <div className='post-content'>\r\n            {item.content}\r\n            </div>\r\n            <div className='post-img-Box'>\r\n\r\n            {\r\n              item.imgs_url.length !== 0 ? (\r\n                item.imgs_url.map((item, index) => {\r\n                  return (\r\n                    <div key={index} className='post-img-box'>\r\n                        <img src={item} alt=\"\"/>\r\n                    </div>\r\n                  )\r\n                })\r\n              ) : null\r\n            }\r\n            \r\n            </div>\r\n\r\n            <div className='post-avatar-box'>\r\n              <div className='post-avatar'>\r\n\r\n              <img src={item.avatarUrl} alt=\"\"/>\r\n              </div>\r\n            <span>{item.nickName}</span>\r\n            </div>\r\n            <div className='post-handles'>\r\n                <div className=\"post-handle\" onClick={this.like}><MyIcon type=\"icon-like\" /><span>{item.like}</span></div>\r\n                <div className=\"post-handle\" onClick={this.comment}><MyIcon type=\"icon-comment\" /><span>48</span></div>\r\n                <div className=\"post-handle\" onClick={this.share}><MyIcon type=\"icon-share\" /><span>{item.share}</span></div>\r\n            </div>\r\n        </div>\r\n          )\r\n        })\r\n      }\r\n\r\n\r\n            {/* <div className='post-card'>\r\n            <div className='tag'>\r\n                    hot  <MyIcon type=\"icon-hot2-copy\" />\r\n                </div>\r\n                <div className='post-content'>\r\n                呜啦啦啦，Hello World!\r\n                </div>\r\n\r\n                <div className='post-img-Box'>\r\n                  <div className='post-img-box'>\r\n                      <img src=\"http://localhost:4000/images/a.jpg\" alt=\"\"/>\r\n                  </div>\r\n\r\n                  <div className='post-img-box'>\r\n                  <img src=\"http://localhost:4000/images/b.jpg\" alt=\"\"/>\r\n                  </div>\r\n\r\n                  <div className='post-img-box'>\r\n                  <img src=\"http://localhost:4000/images/c.jpg\" alt=\"\"/>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className='post-avatar-box'>\r\n                  <div className='post-avatar'>\r\n                  <img src=\"http://localhost:4000/images/batman.jpg\" alt=\"\"/>\r\n                  </div>\r\n                <span>nickName</span>\r\n                </div>\r\n                <div className='post-handles'>\r\n                    <div className=\"post-handle\"><MyIcon type=\"icon-like\" /><span>153</span></div>\r\n                    <div className=\"post-handle\"><MyIcon type=\"icon-comment\" /><span>48</span></div>\r\n                    <div className=\"post-handle\"><MyIcon type=\"icon-share\" /><span>6</span></div>\r\n                </div>\r\n            </div>\r\n             */}\r\n            </div>\r\n          </div>\r\n       </div>\r\n      </div>\r\n     </div>\r\n    )\r\n  }\r\n\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  state => ({user:state.user,recommend_users:state.recommend, notes:state.notes}),\r\n  {autoLogin, recommend, recommend_clear,getNotes}\r\n)(Main);","import React, {Component} from 'react';\r\n\r\nimport './header.css'\r\n\r\nclass Header extends Component{\r\n  render(){\r\n    return (\r\n      <div className='header'>\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Header;","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Icon,  Modal, Button, Upload, message} from 'antd';\r\nimport BScroll from 'better-scroll';\r\nimport Cookies from 'js-cookie';\r\n\r\nimport {\r\n  autoLogin,\r\n  account_clear\r\n}from '../../redux/actions'\r\n\r\nimport './personal.css';\r\n\r\nconst { confirm } = Modal;\r\n\r\n// antd中使用iconfont图标引入方法\r\nconst MyIcon = Icon.createFromIconfontCN({\r\n  scriptUrl: '//at.alicdn.com/t/font_1368816_anek3qab0ai.js', // 在 iconfont.cn 上生成\r\n});\r\n\r\nclass Personal extends Component {\r\n  componentDidMount(){\r\n    const personal = document.getElementById(\"personal\");\r\n\r\n      this.listScroll = new BScroll(personal, {\r\n        scrollY:true,\r\n        click: true\r\n      })\r\n  }\r\n\r\n   avatarProps = {\r\n    name: 'file',\r\n    action: '/avatarUpload',\r\n    headers: {\r\n      authorization: 'authorization-text',\r\n    },\r\n    onChange:(info)=>{\r\n      if (info.file.status !== 'uploading') {\r\n      }\r\n      if (info.file.status === 'done') { \r\n        const doneStatus = document.querySelectorAll('.ant-upload-list-item-done');\r\n        doneStatus.forEach(item => {\r\n          item.style.display = 'none';\r\n        })\r\n        message.success(`头像上传成功`);\r\n        this.props.autoLogin();\r\n      } else if (info.file.status === 'error') {\r\n        message.error(`头像上传失败，请重试`);\r\n      }\r\n    },\r\n  };\r\n\r\n  gotoLogin = () => {\r\n    this.props.history.push('/login');\r\n  }\r\n\r\n  signout = () => {\r\n    Cookies.remove('_id');\r\n    message.warning('已成功退出🙊');\r\n    this.props.history.replace('/login');\r\n    this.props.account_clear();\r\n  }\r\n\r\n  showDeleteConfirm = () => {\r\n    const signout = this.signout;\r\n    confirm({\r\n      title: 'Are you sure delete this task?',\r\n      content: 'Some descriptions',\r\n      okText: 'Yes',\r\n      okType: 'danger',\r\n      cancelText: 'No',\r\n      onOk:signout,\r\n      onCancel() {\r\n        console.log('Cancel');\r\n      },\r\n    });\r\n  }\r\n\r\n  render () {\r\n    const _id = Cookies.get(\"_id\");\r\n    const {username,sex,nickName} = this.props.user;\r\n    if(!username && _id){\r\n      this.props.autoLogin();\r\n    }\r\n    if(username){\r\n      return (\r\n        <div id='personal' className='personal  personal-bscroll-wrapper'>\r\n          <div className='personal-bscroll-container'>\r\n          <div className='personal-card clearfix'>\r\n        {/* <div className='personal-avatar'> */}\r\n        <Upload  {...this.avatarProps}>\r\n        <Button>\r\n         \r\n          {\r\n            this.props.user.avatarUrl.slice(-18,-4) ===  'default_avatar' \r\n              ? \r\n              <img style={{width:\"55px\",height:\"55px\"}} src={this.props.user.avatarUrl} />\r\n               : \r\n              <img src={this.props.user.avatarUrl} />\r\n          }\r\n        </Button>\r\n        </Upload>\r\n\r\n        {/* </div> */}\r\n        <p className='personal-nickName'>\r\n          <span>{nickName}</span> {sex === 'male' ? <MyIcon type=\"icon-male\" /> : <MyIcon type=\"icon-female\" />}\r\n        </p>\r\n        <div className='personal-info'>\r\n      <div className=\"personal-info-box\">\r\n        <p className='personal-info-num'>15</p>\r\n        <p className='personal-info-txt'>关注</p>\r\n      </div>\r\n      <div className='personal-line'></div>\r\n      <div className=\"personal-info-box \">\r\n        <p className='personal-info-num'>154</p>\r\n        <p className='personal-info-txt'>粉丝</p>\r\n      </div>\r\n      <div className='personal-line'></div>\r\n      <div className=\"personal-info-box\">\r\n        <p className='personal-info-num'>1536</p>\r\n        <p className='personal-info-txt'>获赞</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n          <div className='personal-feature'>\r\n          <p className='personal-feature-title'>Feature:</p>\r\n          <div className='personal-feature-Boxs'>\r\n            <div className='personal-feature-Box'>\r\n              <div className=\"personal-feature-box\">\r\n                <MyIcon type=\"icon-iconzhengli-2\" />\r\n              </div>\r\n            </div>\r\n            <div className='personal-feature-Box'>\r\n              <div className=\"personal-feature-box\">\r\n              <MyIcon type=\"icon-iconzhengli-\" />\r\n              </div>\r\n            </div>\r\n            <div className='personal-feature-Box'>\r\n              <div className=\"personal-feature-box\">\r\n              <MyIcon type=\"icon-iconzhengli-1\" />\r\n              </div>\r\n            </div>\r\n            <div className='personal-feature-Box'>\r\n              <div className=\"personal-feature-box\">\r\n              <MyIcon type=\"icon-tuichu\"  onClick={this.showDeleteConfirm}/>\r\n              </div>\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n\r\n        <div className='personal-tags'>\r\n        <p className='personal-tags-title'>Tag:</p>\r\n        <div className='personal-tags-box'>\r\n          <span className='personal-tag'>\r\n            marvel爱好者\r\n          </span>\r\n          <span className='personal-tag'>\r\n            说唱\r\n          </span>\r\n          <span className='personal-tag'>\r\n            漫画\r\n          </span>\r\n          <span className='personal-tag'>\r\n            前端技术\r\n          </span>\r\n          <span className='personal-tag'>\r\n            美剧\r\n          </span>\r\n          <span className='personal-tag'>\r\n            单身可撩\r\n          </span>\r\n          <span className='personal-tag'>\r\n            社交恐惧症患者\r\n          </span>\r\n          <span className='personal-tag'>\r\n            穷\r\n          </span>\r\n          <span className='personal-tag'>\r\n            DC爱好者\r\n          </span>\r\n          <span className='personal-tag'>\r\n          <Icon type=\"plus-circle\" />\r\n          </span>\r\n        </div>\r\n        </div>\r\n          </div>\r\n        </div>\r\n      )\r\n    }else {\r\n      return(\r\n        <div id='personal' className='personal  personal-bscroll-wrapper'>\r\n           <div className='personal-bscroll-container'>\r\n           <div className='personal-card clearfix'>\r\n                  <div onClick={this.gotoLogin} className='personal-avatar2'>\r\n                      <MyIcon type=\"icon-iconzhengli-1\" />\r\n                  </div>\r\n                  <p onClick={this.gotoLogin} className='personal-nickName'>\r\n                  <span>尚未登入</span>\r\n                  </p>\r\n                  <div className='personal-info'>\r\n              <div className=\"personal-info-box\">\r\n                <p className='personal-info-num'>0</p>\r\n                <p className='personal-info-txt'>关注</p>\r\n              </div>\r\n              <div className='personal-line'></div>\r\n              <div className=\"personal-info-box \">\r\n                <p className='personal-info-num'>0</p>\r\n                <p className='personal-info-txt'>粉丝</p>\r\n              </div>\r\n              <div className='personal-line'></div>\r\n              <div className=\"personal-info-box\">\r\n                <p className='personal-info-num'>0</p>\r\n                <p className='personal-info-txt'>获赞</p>\r\n              </div>\r\n                  </div>\r\n                </div>\r\n                <div className='personal-feature'>\r\n          <p className='personal-feature-title'>Feature:</p>\r\n          <div className='personal-feature-Boxs'>\r\n            <div className='personal-feature-Box'>\r\n              <div onClick={this.gotoLogin} className=\"personal-feature-box\">\r\n                <MyIcon type=\"icon-iconzhengli-2\" />\r\n              </div>\r\n            </div>\r\n            <div className='personal-feature-Box'>\r\n              <div onClick={this.gotoLogin} className=\"personal-feature-box\">\r\n              <MyIcon type=\"icon-iconzhengli-\" />\r\n              </div>\r\n            </div>\r\n            <div className='personal-feature-Box'>\r\n              <div onClick={this.gotoLogin} className=\"personal-feature-box\">\r\n              <MyIcon type=\"icon-iconzhengli-1\" />\r\n              </div>\r\n            </div>\r\n            <div className='personal-feature-Box'>\r\n              <div onClick={this.gotoLogin} className=\"personal-feature-box\">\r\n              <MyIcon type=\"icon-tuichu-copy\" />\r\n              </div>\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n\r\n        <div className='personal-tags' >\r\n        <p className='personal-tags-title'>Tag:</p>\r\n        <div className='personal-tags-box'>\r\n          <span className='personal-tag'>\r\n            兴趣\r\n          </span>\r\n          <span className='personal-tag'>\r\n            爱好\r\n          </span>\r\n          <span className='personal-tag'>\r\n            愿望\r\n          </span>\r\n          <span className='personal-tag'>\r\n            心情\r\n          </span>\r\n          <span className='personal-tag'>\r\n            标签\r\n          </span>\r\n        </div>\r\n        </div>\r\n           </div>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  state => ({user:state.user}),\r\n  {autoLogin,   account_clear}\r\n)(Personal)","import React, {Component} from 'react';\r\nimport {Icon} from 'antd';\r\nimport {withRouter} from 'react-router-dom';\r\nimport pubSub from 'pubsub-js';\r\n\r\nimport './nav.css';\r\n\r\n// antd中使用iconfont图标引入方法\r\nconst MyIcon = Icon.createFromIconfontCN({\r\n  scriptUrl: '//at.alicdn.com/t/font_1368816_a7lhoitsitr.js', // 在 iconfont.cn 上生成\r\n});\r\n\r\nconst initState = {\r\n  home:'icon-home',\r\n  options:\"icon-options-copy\",\r\n  edit:'icon-edit-copy',\r\n  personal:'icon-personal-copy'\r\n}\r\n\r\nclass Nav extends Component {\r\n\r\n  state = {\r\n    home:'icon-home2-copy',\r\n    options:\"icon-options-copy\",\r\n    edit:'icon-edit-copy',\r\n    personal:'icon-personal-copy'\r\n  }\r\n\r\n  componentDidMount(){\r\n    console.log(\"asd\");\r\n    pubSub.subscribe(\"nav\",(msg, pathname) => {\r\n      this.setState(initState);\r\n      this.change(pathname);\r\n      console.log(pathname);\r\n    })\r\n    this.setState(initState);\r\n    let {pathname} = this.props.location;\r\n    this.change(pathname);\r\n  }\r\n\r\n   goto = (num) => {\r\n     this.setState(initState);\r\n    switch(num){\r\n      case 1 : {\r\n        this.props.history.replace('/');\r\n        this.setState({\r\n          home:'icon-home2-copy'\r\n        })\r\n        break;\r\n      }\r\n      case 2 : {\r\n        this.props.history.replace('/options')\r\n        this.setState({\r\n          options:'icon-options2-copy'\r\n        })\r\n        break;\r\n      }\r\n      case 3 : {\r\n        this.props.history.replace('/edit')\r\n        this.setState({\r\n          edit:'icon-edit2-copy'\r\n        })\r\n        break;\r\n      }\r\n      case 4 : {\r\n        this.props.history.replace('/personal')\r\n        this.setState({\r\n          personal:'icon-personal2-copy'\r\n        })\r\n        break;\r\n      }\r\n      default :\r\n        return ;\r\n    }\r\n  }\r\n\r\n  change = (pathname) => {\r\n    switch(pathname) {\r\n      case '/' : {\r\n        this.setState({\r\n          home:'icon-home2-copy'\r\n        })\r\n        break;\r\n      }\r\n      case '/options' : {\r\n        this.setState({\r\n          options:'icon-options2-copy'\r\n        })\r\n        break;\r\n      }\r\n      case '/edit' : {\r\n        this.setState({\r\n          edit:'icon-edit2-copy'\r\n        })\r\n        break;\r\n      }\r\n      case '/personal' : {\r\n        this.setState({\r\n          personal:'icon-personal2-copy'\r\n        })\r\n        break;\r\n      }\r\n      // default : {\r\n      //   this.setState({\r\n      //     personal:'icon-home2-copy'\r\n      //   })\r\n      // }\r\n    }\r\n  }\r\n  \r\n  render () {\r\n    const {\r\n      home,\r\n      options,\r\n      edit,\r\n      personal\r\n    } = this.state;\r\n\r\n    return (\r\n      <div className='nav'>\r\n        \r\n      <div className=\"nav-box\" onClick = {() => this.goto(1)} ><MyIcon type={home} /></div>\r\n       {/* <div className=\"nav-box\" onClick = {() => this.goto(2)} ><MyIcon type={options} /></div> */}\r\n       <div className=\"nav-box\" onClick = {() => this.goto(3)}> <MyIcon type={edit} /></div>\r\n       <div className=\"nav-box\" onClick = {() => this.goto(4)}> <MyIcon type={personal} /></div>\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Nav);","import React, {Component} from 'react';\r\nimport {Input,Upload, Icon, Modal, message} from 'antd';\r\nimport BScroll from 'better-scroll';\r\nimport {connect} from 'react-redux';\r\nimport Cookies from 'js-cookie';\r\nimport sd from 'silly-datetime';\r\nimport pubSub from 'pubsub-js';\r\n\r\nimport {\r\n  note\r\n} from '../../redux/actions'\r\nimport './edit.css'\r\n\r\nconst { TextArea } = Input;\r\n\r\nfunction getBase64(file) {\r\n  return new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => resolve(reader.result);\r\n    reader.onerror = error => reject(error);\r\n  });\r\n}\r\n\r\n\r\nclass Edit extends Component{\r\n  state = {\r\n    value: '',\r\n    previewVisible: false,\r\n    previewImage: '',\r\n    fileList: [],\r\n    editContent:\"\"\r\n  };\r\n\r\n  componentDidMount(){\r\n    const edit = document.querySelector(\".edit-wrapper\");\r\n\r\n      this.listScroll = new BScroll(edit, {\r\n        scrollY:true,\r\n        click: true\r\n      })\r\n  }\r\n\r\n  handleCancel = () => this.setState({ previewVisible: false });\r\n\r\n  handlePreview = async file => {\r\n    if (!file.url && !file.preview) {\r\n      file.preview = await getBase64(file.originFileObj);\r\n    }\r\n\r\n    this.setState({\r\n      previewImage: file.url || file.preview,\r\n      previewVisible: true,\r\n    });\r\n  };\r\n\r\n  handleChange = ({ fileList }) => this.setState({ fileList });\r\n\r\n  onChange = ({ target: { value } }) => {\r\n    this.setState({ value });\r\n  };\r\n\r\n  gotoLogin = () => {\r\n    this.props.history.push('/login');\r\n  }\r\n\r\n  editContentHandle = (e) => {\r\n    const editContent = e.target.value;\r\n    this.setState({editContent});\r\n  }\r\n\r\n  publish = () => {\r\n    let imgs_url = [];\r\n    this.state.fileList.map((item,index) => {\r\n      imgs_url.push(`http://localhost:4000/noteImages/${item.response}`);\r\n    })\r\n    const obj = {\r\n      from_id:this.props.user._id,\r\n      date:sd.format(new Date(), 'YYYY-MM-DD HH:mm'),\r\n      imgs_url,\r\n      content:this.state.editContent,\r\n      like:0,\r\n      comment:[],\r\n      share:0\r\n    }\r\n    let notePromise = this.props.note(obj);\r\n    notePromise\r\n      .then(value => {\r\n        console.log(this.props.state_note)\r\n        if(!this.props.state_note.from_id){\r\n          message.warning('很抱歉，发布失败，请稍后再试')\r\n        }else{\r\n          message.success('发布成功！');\r\n          pubSub.publish(\"nav\",\"/\");\r\n              \r\n          this.props.history.replace('/');\r\n        }\r\n      })\r\n        .catch(err => {\r\n          console.log('失败了')\r\n        })\r\n  }\r\n\r\n  render(){\r\n    const { value } = this.state;\r\n    const { previewVisible, previewImage, fileList } = this.state;\r\n    const {username} = this.props.user;\r\n    const uploadButton = (\r\n      <div>\r\n        <Icon type=\"plus\" />\r\n        <div className=\"ant-upload-text\">Upload</div>\r\n      </div>\r\n    );\r\n    if(!username){\r\n      this.gotoLogin();\r\n    }\r\n    return (\r\n      <div className='edit edit-wrapper' id='edit'>\r\n        <div className='edit-container'>\r\n        <p className='edit-title'>Edit:</p>\r\n        <TextArea\r\n          onChange={this.editContentHandle}\r\n          value={this.state.editContent}\r\n          id='textarea'\r\n          style={{resize:\"none\"}}\r\n          placeholder=\"记录每一个在轻大的美好瞬间吧🦄\"\r\n          autosize={{ minRows: 5, maxRows: 5 }}\r\n        />\r\n      <div className='edit-img-box'>\r\n        <div className=\"clearfix\">\r\n          <Upload\r\n            className='imgUpload'\r\n            action=\"/noteImgsUpload\"\r\n            listType=\"picture-card\"\r\n            fileList={fileList}\r\n            onPreview={this.handlePreview}\r\n            onChange={this.handleChange}\r\n          >\r\n            {fileList.length >= 9 ? null : uploadButton}\r\n          </Upload>\r\n          <Modal visible={previewVisible} footer={null} onCancel={this.handleCancel}>\r\n            <img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\r\n          </Modal>\r\n        </div>\r\n      </div>  \r\n      <div className='edit-btn' onClick={this.publish}>\r\n        发布\r\n      </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  state => ({user:state.user, state_note:state.note}),\r\n  {note}\r\n)(Edit);","import {combineReducers} from 'redux';\r\n\r\nimport {\r\n  ACCOUNT_SUCCESS,\r\n  ACCOUNT_ERROR,\r\n  ACCOUNT_CLEAR,\r\n  RECOMMEND_ERROR,\r\n  RECOMMEND_SUCCESS,\r\n  RECOMMEND_CLEAR,\r\n  NOTE_ERROR,\r\n  NOTE_SUCCESS,\r\n  GET_NOTES_ERROR,\r\n  GET_NOTES_SUCCESS\r\n} from './action-types';\r\n\r\nconst initUser = {\r\n  nickName:\"\",\r\n  username:\"\",\r\n  sex:\"\",\r\n}\r\n\r\nconst initRecommend = [];\r\n\r\nfunction user(state = initUser, action){\r\n  switch(action.type){\r\n    case ACCOUNT_SUCCESS : {\r\n      return action.data\r\n    }\r\n    case ACCOUNT_ERROR : {\r\n      return {...state, msg:action.data}\r\n    }\r\n    case ACCOUNT_CLEAR : {\r\n      return initUser;\r\n    }\r\n    default :\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction recommend(state = initRecommend, action){\r\n  switch(action.type){\r\n    case RECOMMEND_SUCCESS : {\r\n      return action.data;\r\n    }\r\n    case RECOMMEND_ERROR : {\r\n      return {msg:action.data}\r\n    }\r\n    case RECOMMEND_CLEAR : {\r\n      return [];\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nconst initNote = {\r\n  from_id:\"\",\r\n  data:\"\",\r\n  avatar_url:\"\",\r\n  imgs_url:[],\r\n  content:\"\",\r\n  like:\"\",\r\n  comment:[],\r\n  share:\"\"\r\n}\r\n\r\nfunction note(state = initNote, action){\r\n  switch(action.type){\r\n    case NOTE_SUCCESS : {\r\n      return {state,...action.data}\r\n    }\r\n    case NOTE_ERROR : {\r\n      return {state,msg:action.data}\r\n    }\r\n    default : {\r\n      return state;\r\n    }\r\n  }\r\n}\r\n\r\nconst initNotes = {\r\n  imgs_url:\"\",\r\n  comment:\"\",\r\n  _id:\"\",\r\n  from_id:\"\",\r\n  date:\"\",\r\n  content:\"\",\r\n  like:\"\",\r\n  share:\"\",\r\n}\r\n\r\nfunction notes(state = [], action){\r\n  switch(action.type){\r\n    case GET_NOTES_SUCCESS : {\r\n      return action.data;\r\n    }\r\n    case GET_NOTES_ERROR : {\r\n      return {msg:action.data}\r\n    }\r\n    default : {\r\n      return state;\r\n    }\r\n  }\r\n}\r\n\r\nexport default combineReducers({\r\n  user,\r\n  recommend,\r\n  note,\r\n  notes\r\n});","import {createStore, applyMiddleware} from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport {composeWithDevTools} from 'redux-devtools-extension'\r\nimport reducers from './reducers'\r\nexport default createStore(reducers, composeWithDevTools(applyMiddleware(thunk)))","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Switch, Route, HashRouter} from 'react-router-dom';\nimport {Provider} from 'react-redux';\n\nimport Chatroom from './containers/chatroom/chatroom';\nimport Login from './containers/login/login';\nimport Register from './containers/register/register';\nimport Main from './containers/main/main';\n// import Header from './containers/header/header';\nimport Header from './components/header/header';\nimport Personal from './containers/psersonal/personal';\nimport Nav from './containers/nav/nav';\nimport Edit from './containers/edit/edit';\nimport store from './redux/store';\n\n\nReactDOM.render(\n  (\n  <Provider store = {store}>\n    <HashRouter>\n        <Switch>\n            <Route path='/chatroom' component={Chatroom} />\n            <Route path='/login' component={Login} />\n            <Route path='/register' component={Register} />\n            <Route path='/personal' component={Personal} />\n            <Route path='/edit' component={Edit} />\n            <Route path='/' component={Main} />\n        </Switch>\n        {/* <Header/> */}\n      <Header/>\n        <Nav/>   \n    </HashRouter>\n  </Provider>\n  )\n  , document.getElementById('root'));\n"],"sourceRoot":""}